{"version":3,"sources":["components/Pages.js","components/Spinner.js","components/Character.js","constants.js","components/CharactersData.js","index.js","App.js"],"names":["totalPages","setPage","listItem","currentpage","number","key","onClick","href","id","items","i","push","list","className","props","loading","Spinner","src","img","alt","name","status","species","sex","origin","lastlocation","lastdimension","lastepisode","lastepisodename","allepisodes","map","n","API_URL","getEpisodeNumber","character","episode","length","split","Characters","episodesList","countCharacters","useState","characters","setCharacter","setLoading","currentPage","useEffect","mounted","axios","get","then","data","results","err","console","log","Character","image","gender","getOrigin","getlastlocation","getlastdimension","getlastepisodename","getAllEpisodes","replace","slice","location","locationDimension","episodelist","numberOfEpisodes","episodesnumber","ReactDOM","render","pages","setNumberOfPages","setCountCharacters","setCurrentPage","countEpisodes","setCountEpisodes","episodes","setepisodes","setEpisodesList","info","count","catch","count_array","Pages","document","getElementById"],"mappings":"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","file":"static/js/main.e8f06c20.chunk.js","sourcesContent":["import React from 'react'\n\nexport default ({ totalPages, setPage, currentpage }) => {\n\n    const listItem = (number) => {\n        return (\n            <li key={number}>\n                <a onClick={() => setPage(number)} href='!#'>\n                    {number}\n                </a>\n            </li>\n        )\n    }\n\n    const list = () => {\n        const items = []\n        for (let i = 1; i <= totalPages; i++) {\n            items.push(listItem(i))\n        }\n        return (<ul> {items} </ul>)\n    }\n\n    return (\n        <nav id='pagination'>\n            {list()}\n        </nav>\n    )\n}\n","import React from 'react'\n\nexport default () => {\n\treturn (\n\t\t<div className=\"spinner\">\n\t\t\t <span className=\"spinner-inner-1\"></span>\n\t\t\t <span className=\"spinner-inner-2\"></span>\n\t\t\t <span className=\"spinner-inner-3\"></span>\n\t\t</div>\n\t)\n}","import React from 'react'\nimport Spinner from './Spinner'\n\nexport default (props) => {\n\n    return (props.loading)\n        ? <Spinner />\n        : (\n            <ul>\n                <article >\n                    <div className=\"flip-card-container\">\n\n                        <div className=\"flip-card\">\n                            <div className=\"flip-card-front\">\n                                <header>\n                                    <div className='shadow'>\n                                        <img src={props.img} alt={props.name} className='card__img' />\n                                    </div>\n                                    <h2>{props.name}</h2>\n                                    <h3>{props.status}</h3>\n                                </header>\n                                <div className='info'>\n                                    <span>species</span>\n                                    <p>{props.species}</p>\n                                </div>\n                                <div className='info'>\n                                    <hr />\n                                    <span>sex</span>\n                                    <p>{props.sex}</p>\n                                </div>\n                                <div className='info'>\n                                    <hr />\n                                    <span>origin</span>\n                                    <p>{props.origin}</p>\n                                </div>\n                                <div className='info'>\n                                    <hr />\n                                    <span>last location</span>\n                                    <p>{props.lastlocation}</p>\n                                </div>\n                                <div className='info'>\n                                    <hr />\n                                    <span>last dimension</span>\n                                    <p>{props.lastdimension}</p>\n                                </div>\n                                <div className='info'>\n                                    <hr />\n                                    <span>last episode seen</span>\n                                    <p>ep. {props.lastepisode} <br />\n                                        {props.lastepisodename}</p>\n                                </div>\n                            </div>\n\n                            <div className=\"flip-card-back\">\n                                <div className=\"card-back-info\">\n                                    <h1> Episodes </h1>\n                                    {props.allepisodes.map(n => {\n                                        return <span key={n}> {n} </span>\n                                    })}\n\n                                </div>\n                            </div>\n\n\n                        </div>\n\n                    </div>\n                </article>\n            </ul >\n\n        )\n}\n","export const API_URL = \"https://rickandmortyapi.com/api/\"","import React, { useEffect, useState } from 'react'\nimport Character from './Character'\nimport axios from 'axios'\nimport { API_URL } from '../constants'\n\n\n\nconst getEpisodeNumber = (character) => {\n    const episodelink = character.episode[character.episode.length - 1]\n    return episodelink.split('/episode/')[1]\n}\n\n\n\n\nexport default function Characters({ currentpage, episodesList, countCharacters }) {\n    const [characterList, setCharacterList] = useState()\n    const [characters, setCharacter] = useState([])\n    const [loading, setLoading] = useState(false)\n    const currentPage = currentpage || 1\n\n    useEffect(() => {\n        let mounted = true; //fix this error index.js:1 Warning: Can't perform a React state update on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in a useEffect cleanup function.\n\n        setLoading(true)\n        axios.get(`${API_URL}character/?page=${currentPage}`).then(data => {\n            if (mounted) {\n                setCharacter(data.data.results)\n                setLoading(false)\n            }\n        }).then(err => console.log(err))\n        return () => {\n            console.log('unmounted')\n            mounted = false\n        }\n    }, [currentPage])\n\n\n//\n// -------- Some picture doesnt load and throw error\n//\n\n    // useEffect(() => { \n    //     setLoading(true)\n    //     if (countCharacters) {\n    //         let count_array = []\n    //         for (let i = 1; i <= countCharacters; i++) {\n    //             count_array.push(i)\n    //         }\n    //         const fetchData = async () => {\n    //             axios.get(`${API_URL}character/${count_array}`).then((data) => {\n    //                 setCharacterList(data.data)\n\n    //             })\n    //         }\n    //         fetchData()\n    //     }\n    // }, [countCharacters])\n\n    // useEffect(() => {\n\n    //     if (characterList) {\n    //         setCharacter(characterList)\n    //         setLoading(false)\n    //     }\n    // }, [characterList])\n\n    const renderCharacter = (character) => {\n        return (\n            <Character\n                key={character.id}\n                img={character.image}\n                name={character.name}\n                status={character.status}\n                species={character.species}\n                sex={character.gender}\n                origin={getOrigin(character)}\n                lastlocation={getlastlocation(character)}\n                lastdimension={getlastdimension(character)}\n                lastepisode={getEpisodeNumber(character)}\n                lastepisodename={getlastepisodename(episodesList, getEpisodeNumber(character))}\n                loading={loading}\n\n                allepisodes={getAllEpisodes(character)}\n            />\n\n\n        )\n    }\n    return (\n        <div>\n            <div id='grid'>\n                {characters.map(renderCharacter)}\n            </div>\n        </div>\n\n    )\n}\n\n\n\nfunction getOrigin(character) {\n    const origin = character.origin.name.replace('(', ' - ')\n    return origin.slice(0, -1)\n}\n\nfunction getlastlocation(character) {\n    const lastlocation = character.location.name.split('(')[0]\n    return lastlocation;\n}\n\nfunction getlastdimension(character) {\n    const locationname = character.location.name\n    const locationDimension = locationname.split('(')[1]\n    if (!locationDimension) { return \"unknown\" }\n    const lastDimension = locationDimension.slice(0, -1)\n    return lastDimension\n}\n\nfunction getlastepisodename(episodelist, number) {\n    const lastepisodename = episodelist[number - 1].name\n    if (lastepisodename) {\n        return (episodelist[number - 1].name)\n    } return 'unknown'\n}\n\nconst getAllEpisodes = (character) => {\n    const numberOfEpisodes = character.episode.length - 1\n    let episodesnumber = []\n    for (let i = 0; i <= numberOfEpisodes; i++) {\n        episodesnumber.push(character.episode[i].split('/episode/')[1])\n    }\n    // if (episodesnumber.length >= 10) { //in case show only the last 10 episodes\n    //     let lastten = []\n    //     lastten = episodesnumber.slice(Math.max(episodesnumber.length - 10, 1))\n    //     return lastten\n    // }\n\n    return episodesnumber\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n","import axios from 'axios';\nimport React, { useState, useEffect } from 'react';\nimport Pages from './components/Pages'\nimport CharactersData from './components/CharactersData'\nimport { API_URL } from './constants'\nimport './styles/styles.scss'\n\nexport default () => {\n    const [loading, setLoading] = useState(false)\n\n    const [pages, setNumberOfPages] = useState()\n    const [countCharacters, setCountCharacters] = useState()\n    const [currentpage, setCurrentPage] = useState(1)\n\n\n    const [countEpisodes, setCountEpisodes] = useState()\n    const [episodes, setepisodes] = useState([])\n    const [episodesList, setEpisodesList] = useState([])\n\n\n    useEffect(() => {\n        setLoading(true)\n        axios.get(`${API_URL}character/`).then(data => {\n            setNumberOfPages(data.data.info.pages)\n            setCountCharacters(data.data.info.count)\n\n        }).catch(err => console.log(err))\n\n        axios.get(`${API_URL}episode/`).then(data => {\n            setCountEpisodes(data.data.info.count)\n\n        }).catch(err => console.log(err))\n    }, [])\n\n    //\n    // --------- Fetch All Episodes from the API\n    //\n    useEffect(() => {\n\n        setLoading(true)\n        if (countEpisodes) {\n\n            let count_array = []\n\n            for (let i = 1; i <= countEpisodes; i++) {\n\n                count_array.push(i)\n            }\n            axios.get(`${API_URL}episode/${count_array}`).then((data) => {\n                setepisodes(data.data)\n                setLoading(false)\n            }).catch(err => console.log(err))\n        }\n    }, [countEpisodes])\n\n    // ---- Make sure doens't throw error if array empty\n\n    useEffect(() => {\n\n        if (episodes.length > 0) {\n\n            setEpisodesList(episodes)\n\n        }\n    }, [episodes])\n\n    return (\n        <div>\n            {loading ? (\n                <div className=\"spinner\">\n                    <span className=\"spinner-inner-1\"></span>\n                    <span className=\"spinner-inner-2\"></span>\n                    <span className=\"spinner-inner-3\"></span>\n                </div>\n            ) : (\n\n                    <div>\n                        <img className='title' src=\"https://carlisletheacarlisletheatre.org/images/rick-and-morty-logo-svg-3.png\" alt='Rick and Morty' />\n                        <CharactersData currentpage={currentpage} episodesList={episodesList} countCharacters={countCharacters} />\n                        <Pages totalPages={pages} setPage={setCurrentPage} currentpage={currentpage} />\n                    </div>\n                )}\n        </div>\n    )\n}"],"sourceRoot":""}